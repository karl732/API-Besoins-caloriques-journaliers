import pandas as pd
import numpy as np

class DietProblem:
    def __init__(self, A, z_ori, betaF):
        self.coeff = A[:-1]
        self.z_ori = z_ori
        self.betaF = betaF
        
        # Conversion des coefficients et du second membre en DataFrame Pandas
        self.coeff_df = pd.DataFrame(self.coeff, columns=self.get_ingredient_names())
        self.Marie_df = pd.DataFrame({"Marie": self.betaF}, index=self.get_nutriment_names())

    @classmethod
    def from_csv(cls, filename):
        # Lecture des donn√©es depuis un fichier CSV
        df = pd.read_csv(filename, sep=";", index_col=0)
        A = df.values.T
        z_ori = A[-1]
        betaF = np.array([75, 90, 225, 2000, 9, 800, 45])  # Valeurs pour Marie
        
        return cls(A, z_ori, betaF)

    def get_ingredient_names(self):
        return list(self.coeff_df.columns)

    def get_nutriment_names(self):
        return list(self.Marie_df.index)